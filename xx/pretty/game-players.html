<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Players — Warzone 2100 Autohoster</title>
  <link rel="stylesheet" href="./css/style.css" />
  <style>
    .wrap{ max-width: 1200px; margin: 0 auto; padding: 18px; }
    .hero{ display:flex; align-items:baseline; gap:12px; flex-wrap:wrap; margin: 8px 0 14px; }
    .hero h1{ margin:0; font-size: 34px; letter-spacing:-.02em; }
    .pill{ display:inline-block; padding:6px 10px; border-radius: 999px; border:1px solid #e5e7eb; background:#fff; color:#374151; font-size: 13px; }
    .controls{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin: 10px 0 14px; }
    .btn{ appearance:none; border:1px solid #d1d5db; background:#fff; color:#111827; padding:8px 12px; border-radius:10px; font-weight:600; cursor:pointer; }
    .btn:hover{ background:#f9fafb; }
    .input{ border:1px solid #d1d5db; padding:8px 10px; border-radius:10px; font-size: 14px; min-width: 260px; }
    .grid{ display:grid; grid-template-columns: 1fr; gap: 16px; }
    .card{ background:#fff; border:1px solid #e5e7eb; border-radius: 18px; overflow:hidden; box-shadow: 0 8px 24px rgba(15,23,42,.06); }
    .cardHead{ padding: 14px 16px; border-bottom:1px solid #eef2f7; display:flex; justify-content:space-between; align-items:baseline; gap:10px; flex-wrap:wrap; }
    .cardHead h2{ margin:0; font-size: 18px; }
    .muted{ color:#6b7280; font-size: 13px; }
    table{ width:100%; border-collapse: collapse; font-size: 14px; }
    thead th{ text-align:left; padding: 10px 12px; font-size: 12px; letter-spacing:.06em; text-transform:uppercase; color:#6b7280; background:#fbfcfe; border-bottom:1px solid #eef2f7; position:sticky; top:0; z-index:2; }
    tbody td{ padding: 10px 12px; border-bottom: 1px solid #f0f3f7; vertical-align: top; }
    tbody tr:last-child td{ border-bottom:none; }
    .player a{ color:#2563eb; text-decoration:none; font-weight:700; }
    .sub{ display:block; color:#6b7280; font-size: 12px; margin-top: 2px; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .right{ text-align:right; }
    .center{ text-align:center; }

    tbody tr{ transition: filter .12s ease; }
    tbody tr:hover{ filter: brightness(.98); }
    .row0{ background: #f6d7ea; }
    .row1{ background: #dfe3ff; }
    .row2{ background: #fbf6cc; }
    .row3{ background: #d6f7fb; }
    .row4{ background: #ead8ff; }
    .row5{ background: #d6fbe5; }
    .row6{ background: #ffe6d6; }
    .row7{ background: #e5e7eb; }
    .row8{ background: #e0f2fe; }
    .row9{ background: #fef3c7; }

    .tableWrap{ overflow:auto; }
    @media (max-width: 900px){
      .hero h1{ font-size: 28px; }
      table{ font-size: 13px; }
      thead th, tbody td{ padding: 8px 10px; }
    }
  </style>
</head>
<body>
<header class="topbar">
  <div class="brand"><img class="brand__image" src="./img/ban.png" alt="Warzone 2100 Autohoster" loading="eager" decoding="async" /></div>
  <nav class="nav">
    <a class="navlink" data-nav="home" href="./">Home</a>
    <a class="navlink" data-nav="games" href="./games.html">Games</a>
    <a class="navlink" data-nav="players" href="./players.html">Players</a>
    <a class="navlink" data-nav="lobby" href="./lobby.html">Lobby</a>
    <a class="navlink" data-nav="leaderboard" href="./top.html">Leaderboard</a>
  </nav>
</header>

<main class="wrap">
  <div class="hero">
    <h1>Players</h1>
    <span id="metaPill" class="pill">Loading…</span>
  </div>

  <div class="controls">
    <button class="btn" id="btnRefresh">Refresh</button>
    <input class="input" id="filter" placeholder="Filter players… (name)" />
    <span class="muted">Tip: open from Games via <span class="mono">?gid=</span></span>
  </div>

  <div class="grid">
    <section class="card">
      <div class="cardHead">
        <h2>Winners</h2>
        <div class="muted" id="wMeta">—</div>
      </div>
      <div class="tableWrap">
        <table id="wTable">
          <thead>
            <tr>
              <th>Players</th>
              <th class="center">Position</th>
              <th class="center">Team</th>
              <th class="center">Rating/<br/>Score</th>
              <th class="right">Kills</th>
              <th class="right">Droids<br/>Lost</th>
              <th class="right">Droids<br/>Built</th>
              <th class="right">Structures<br/>Lost</th>
              <th class="right">Structures<br/>Built</th>
              <th class="right">Power</th>
              <th class="right">PWL</th>
              <th class="right">Lab activity</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section class="card">
      <div class="cardHead">
        <h2>Losers</h2>
        <div class="muted" id="lMeta">—</div>
      </div>
      <div class="tableWrap">
        <table id="lTable">
          <thead>
            <tr>
              <th>Players</th>
              <th class="center">Position</th>
              <th class="center">Team</th>
              <th class="center">Rating/<br/>Score</th>
              <th class="right">Kills</th>
              <th class="right">Droids<br/>Lost</th>
              <th class="right">Droids<br/>Built</th>
              <th class="right">Structures<br/>Lost</th>
              <th class="right">Structures<br/>Built</th>
              <th class="right">Power</th>
              <th class="right">PWL</th>
              <th class="right">Lab activity</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </div>

  <p class="muted" style="margin-top:14px;">
    Notes: this page is “best-effort” from <span class="mono">/jsons/matchstats.json</span>.
  </p>
</main>

<script src="./js/game-players.js"></script>
  <script src="./js/nav-active.js"></script>

<!-- Matomo -->
<script>
  (function() {
    if (/github\.io$/i.test(window.location.hostname)) {
      return;
    }
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="/matomo/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  })();
</script>
<!-- End Matomo Code -->

</body>
</html>
